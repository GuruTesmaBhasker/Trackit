<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Motivator - Stay Focused, Stay Strong</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Daily Motivator âš¡</h1>
            <p class="subtitle">Start strong, finish stronger ğŸš€</p>
            <div class="date-display" id="currentDate"></div>
        </header>

        <main>
            <!-- Morning Section -->
            <section class="morning-section" id="morningSection">
                <div class="section-header">
                    <h2>ğŸŒ… Morning Routine & Planning</h2>
                    <p>Complete your daily essentials, then plan your day âœ¨</p>
                </div>

                <!-- Sleep Tracker -->
                <div class="sleep-tracker-section">
                    <h3>ğŸ˜´ Sleep Tracker</h3>
                    <p class="tracker-note">Track your sleep schedule for better insights!</p>
                    <div class="sleep-inputs">
                        <div class="sleep-input-group">
                            <label>ğŸ’¤ Slept at:</label>
                            <input type="datetime-local" id="sleptAt" class="sleep-time-input">
                        </div>
                        <div class="sleep-input-group">
                            <label>â° Wake up at:</label>
                            <input type="datetime-local" id="wakeUpAt" class="sleep-time-input">
                        </div>
                    </div>
                    <div class="sleep-duration" id="sleepDuration">
                        Sleep Duration: <span id="sleepDurationText">--</span>
                    </div>
                    <button id="saveSleepData" class="btn btn-primary">Save Sleep Data</button>
                </div>

                <!-- Morning Routine Tracker -->
                <div class="morning-tracker-section">
                    <h3>â° Morning Routine Tracker</h3>
                    <p class="tracker-note">Track what you did this morning with times for analysis!</p>
                    <div class="routine-entries" id="routineEntries">
                        <div class="routine-entry">
                            <input type="time" class="routine-start" placeholder="Start">
                            <input type="time" class="routine-end" placeholder="End">
                            <input type="text" class="routine-activity" placeholder="What did you do? (e.g., Wake up, Exercise, Breakfast)" maxlength="100">
                            <button type="button" class="btn-remove-entry" onclick="removeRoutineEntry(this)">Ã—</button>
                        </div>
                    </div>
                    <button type="button" id="addRoutineEntry" class="btn btn-secondary">+ Add Another Activity</button>
                    <button id="saveMorningRoutine" class="btn btn-primary">Save Morning Routine</button>
                </div>

                <!-- Planning Section (always visible) -->
                <div class="planning-section unlocked" id="planningSection">
                    <h3>ğŸ¯ Today's Main Goals</h3>
                    <p class="planning-note">Here are your AI-generated tasks for balanced growth!</p>
                    <div class="task-generator">
                        <button id="regenerateTasks" class="btn btn-secondary">ğŸ² Generate New Tasks</button>
                        <small>Tasks are automatically generated daily based on your growth areas</small>
                    </div>
                    <div class="form-group">
                        <label>My top 3 tasks today are:</label>
                        <div class="tasks-container">
                            <input type="text" id="task1" placeholder="1. ____" maxlength="100">
                            <input type="text" id="task2" placeholder="2. ____" maxlength="100">
                            <input type="text" id="task3" placeholder="3. ____" maxlength="100">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="avoidance">The one thing I must avoid today:</label>
                        <input type="text" id="avoidance" placeholder="____" maxlength="100">
                    </div>
                    <button id="saveMorning" class="btn btn-primary">Save Morning Plan</button>
                </div>
            </section>

            <!-- Evening Section -->
            <section class="evening-section" id="eveningSection">
                <div class="section-header">
                    <h2>ğŸŒ™ Evening Reflection</h2>
                    <p>Review your day and plan for tomorrow ğŸŒŸ</p>
                </div>


                <div class="form-group">
                    <label>Did I finish the top 3?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="task1Complete">
                            <label for="task1Complete" id="task1Label">Task 1</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="task2Complete">
                            <label for="task2Complete" id="task2Label">Task 2</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="task3Complete">
                            <label for="task3Complete" id="task3Label">Task 3</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Did I stay focused?</label>
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="focused" value="yes">
                            <span class="checkmark">âœ…</span>
                            <span>Yes, I stayed focused</span>
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="focused" value="no">
                            <span class="checkmark">âŒ</span>
                            <span>No, I got distracted</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="improvement">One improvement for tomorrow:</label>
                    <input type="text" id="improvement" placeholder="____" maxlength="150">
                </div>

                <button id="saveEvening" class="btn btn-primary">Save Evening Reflection</button>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progressSection">
                <div class="section-header">
                    <h2>ğŸ“Š Your Progress</h2>
                    <p>Track your consistency and growth ğŸ“ˆ</p>
                </div>
                
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-number" id="totalDays">0</div>
                        <div class="stat-label">Days Tracked</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="completionRate">0%</div>
                        <div class="stat-label">Task Completion</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="focusRate">0%</div>
                        <div class="stat-label">Focus Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="routineRate">0%</div>
                        <div class="stat-label">Routine Consistency</div>
                    </div>
                </div>

                <!-- Morning Routine Analysis -->
                <div class="routine-analysis">
                    <h3>ğŸ• Morning Routine Analysis</h3>
                    
                    <!-- Circular Chart -->
                    <div class="circular-chart-section">
                        <h4>â­• Activity Circle</h4>
                        <div class="circle-container">
                            <canvas id="activityCircle" width="300" height="300"></canvas>
                            <div class="circle-legend" id="circleLegend"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- History Section (Date Picker moved to last) -->
            <section class="history-section" id="historySection">
                <div class="date-picker-section">
                    <label for="datePicker">ğŸ“… View different date:</label>
                    <input type="date" id="datePicker" class="date-picker">
                    <button id="loadDateData" class="btn btn-secondary">History</button>
                </div>
                
                <div class="tracking-link" style="margin-top: 20px; text-align: center;">
                    <a href="tracking.html" class="btn btn-primary" style="text-decoration: none;">
                        ğŸ“Š View Activity Tracking
                    </a>
                </div>
            </section>
        </main>

        <footer>
            <p>Every day is a new opportunity to be your best self ğŸ’ª</p>
        </footer>
    </div>

    <script type="module" src="script-new.js"></script>
    <script type="module" src="database.js"></script>
</body>
</html>